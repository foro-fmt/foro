# foro

foroは、あらゆるコードを超高速に、簡単にフォーマットするためのフォーマッタ・プラットフォームです。


- **超高速**: 徹底したチューニングといくつかのハックによって、foro は非常に高速です。似たツールである dprint の50倍程度高速で、フォーマッタのネイティブバイナリを直接実行するよりも2〜5倍高速です！
- **互換性**: biome や rustfmt など、あなたが普段使うツールと同じスタイルでのフォーマットが可能です。設定や除外ファイルも適切に読み込みます。
- **シンプル**: foro はプロジェクトにインストールするツールではないため、導入も構成も、チームメンバーに断る必要もありません。どんなコードベースでも、 `foro format main.tsx` とするだけです。
- **構成可能**: 分かりやすく柔軟な構成ファイルによって、動作を幅広くカスタマイズできます。複数のプラグインを組み合わせて複雑な動作をさせることも、wasm で独自のプラグインを実装することもできます。
- **マルチプラットフォーム**: 全てのプラグインは wasm で配布されるため、同じ構成でマルチプラットフォームに動作します。

## インストール

cargo を用いてインストールします。将来的にはスタンドアロンのインストーラを提供する予定です。

```shell
cargo install --git https://github.com/nahco314/foro
```

アップデート:

```shell
cargo install --git https://github.com/nahco314/foro --force
```

## 使い方

```shell
# 通常のフォーマット
foro format ./main.tsx

# daemon を使わずフォーマット (詳細は後述)
foro format --no-daemon ./main.tsx
```

## 対応 OS
実装上は unix 系、Windows (10以上) の双方に対応しています。

動作確認は ubuntu, Windows 上で行っています。mac でも動作するはずです。

### Windows 上での注意

- Windows では、アタッチしない daemon の開始と、format コマンドによる daemon の自動開始がサポートされていません！事前に明示的に `foro daemon start -a` を実行してください。
- Windows では OS の仕様上 unix ほどフォーマットの速度が出ません。それでも Windows 上で普通にコマンドを実行するよりは高速ですが、WSL などから実行することをおすすめします。
  - ちなみに、Windows 上で foro を実行する場合、`--config-path` や `--socket-dir` を引数で明示してやると 2ms 程度高速になります。
- Windows 上でのプロセス間通信に Unix Domain Socket を使用しているため、対応している Windows 10 以上の最近のバージョンである必要があります。
  - 現在サポートされている Windows のバージョンなら大丈夫なはずです
